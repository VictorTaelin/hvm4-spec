@Qnew = λx.x
@Qadd = λx.λq.λk.q(λc.c(x, k))
@Qrem = !${kf, kv}; λq.q(kv, λx.λxs.λp.p(x, kf(xs)))
@queue = @Qadd(3, @Qadd(2, @Qadd(1, @Qnew)))
@main =
  @Qrem(@queue, λv0.λq0.
  @Qrem(q0, λv1.λq1.
  @Qrem(q1, λv2.λq2.
  [v0, v1, v2])))
//[1,2,3]
